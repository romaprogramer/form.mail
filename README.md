# form.mail 
<br>tested component for Bitrix,
<br>version 1.0

В .zip-файле файлы компонента. 
Там названия для файлов <i>.parameters.php</i> и <i>.description.php</i> через точку, как нужно. 
Файлы из-за этого были не полностью загружены (из-за названия через точку).

# Обновления:

15.09.2023 около 13:30 - Доработан компонент для работы,
кроме кода загрузки прикрепленного файла.
Доработано:
- оформление по Bootstrap (размеры элементов, отступы, стили кнопок "+" и "-"),
- кнопки "+" и "-",
- код файла component.php  и файлы шаблона стали лучше как в логики "контроллера
и шаблона компонента".

15.09.2023 19:06 - Обновлен файл <i>component.php</i>:
- Исправлена ошибка (в плане логики работы контроллера) в получении адреса отправки -
теперь значение параметра массива для почтового шаблона <code>$Arr["MAIL_TO"]</code> берется 
из параметра массива контролера компонента <code>$arResult['Mail']</code>.
- добавлен параметр MAIL_FROM со значением в массив для почтового шаблона виде строки:
  <code>$Arr["MAIL_FROM"] = "info@bitrixcms.agiletelebot.ru"</code>;

16.09.2023 14:50 - Обновлены файлы <i>component.php</i> и template.php:
- Добавлен код для обработки загруженного прикрепленного файла в файл контроллера
(для примера просто сделано копирование загруженного файла в папку /uploads в корне сайта
с тем же самым именем и расширением),
- Сделана отправка почты (через стандартную функцию mail()).
- Исправлен недочет в составлении текста письма - просто добавлен код для составления
 текста письма из принятой заявки.

16.09.2023 18:05 - Обновлены 3 файла: <i>component.php</i>, <i>template.php</i> и <i>script.js</i> :
- Исправлена ошибка в составлении текста письма (повтор некоторых строк),
- Исправлена ошибка при добалениии новой строки в блоке "Состав заявки"
и лучше написан код.

18.09.2023 12:37 - Обновлены файлы <i>script.js</i> и <i>template.php</i> :
- Обновлен JavaScript код, теперь используются объекты и их методы JS библиотеки Bitrix Framework.
-  Исправлена ошибка при удалении 1 строки в "Состав заявки" - добавлен атрибут со значением:
<code>id="1"</code>
 
Примечание: при работе кнопки "+" (нажатии), строка добавляется, но затем происходит перезагрузка
страницы, связано с со свойством проверки имеющем не точное название <i>Window.BX.isProbablyReader</i>  

Компонент готов, 
не считая возникающей перезагрузки страницы при нажатии кнопки "+".
